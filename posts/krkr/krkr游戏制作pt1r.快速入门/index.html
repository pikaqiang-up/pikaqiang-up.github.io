<!DOCTYPE html>
<html lang="zh_cn">
<head>
  
    <title>Krkr游戏制作pt1r.快速入门 :: I LOVE PIKAQIANG!</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="krkr游戏制作" />
<meta name="keywords" content="krkr, 游戏制作" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="/posts/krkr/krkr%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9Cpt1r.%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" />





  
  <link rel="stylesheet" href="/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css">

  
  <link rel="stylesheet" href="/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="/css/main.min.775ac2af004d44c22a6d000fbd1d9af529642f5cef27399d0280d180af2c2e9b.css">

  
  <link rel="stylesheet" href="/css/menu.min.310d32205bdedd6f43144e3c3273c9deecd238eba5f9108db5ea96ca0cfbe377.css">

  
  <link rel="stylesheet" href="/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="/css/post.min.ad50c7f4d00e7975918f37fc74c6029e1959a40d66fb5b2c6564a8715e985573.css">

  
  <link rel="stylesheet" href="/css/syntax.min.e9ab635cf918bc84b901eb65c0b2caa74c9544245e3647c1af5c129896ef276e.css">

  
  <link rel="stylesheet" href="/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css">

  
  <link rel="stylesheet" href="/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">


<link rel="stylesheet" href="/terminal.css">

<link rel="stylesheet" href="/style.css">


<link rel="shortcut icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="zh_cn" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Krkr游戏制作pt1r.快速入门">
<meta property="og:description" content="krkr游戏制作" />
<meta property="og:url" content="/posts/krkr/krkr%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9Cpt1r.%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" />
<meta property="og:site_name" content="I LOVE PIKAQIANG!" />

  
  
  <meta property="og:image" content="https://i.pixiv.re/c/1200x1200_80_webp/img-master/img/2025/12/07/23/33/02/138348958_p0_master1200.jpg">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2025-12-06 16:07:53 &#43;0000 UTC" />













</head>
<body>


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    ♡PIKAQIANG♡
  </div>
</a>

    </div>
    
    
  </div>
  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="/posts/krkr/krkr%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9Cpt1r.%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">Krkr游戏制作pt1r.快速入门</a>
  </h1>
  <div class="post-meta"><time class="post-date">2025-12-06</time><span class="post-author">PIKAQIANG</span><span class="post-reading-time">1 min read (180 words)</span></div>

  
    <span class="post-tags">
      
      #<a href="/tags/krkr/">krkr</a>&nbsp;
      
      #<a href="/tags/%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9C/">游戏制作</a>&nbsp;
      
    </span>
  
  
  <img src="https://i.pixiv.re/c/1200x1200_80_webp/img-master/img/2025/12/07/23/33/02/138348958_p0_master1200.jpg"
    class="post-cover"
    alt="Krkr游戏制作pt1r.快速入门"
    title="Cover Image" />


  

  <div class="post-content"><div>
        <h1 id="krkr快速入门重制版">krkr快速入门（重制版）<a href="#krkr快速入门重制版" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>由于上一版写得跟屎一样，除了我基本没人能看懂，故开始写这一版。</p>
<p>这一版我的目标是详细和通俗。</p>
<p>具体流程大概是下载相关文件，配置编辑器开始项目，正式开始做游戏编写剧情脚本，游玩测试，打包分享。</p>
<h2 id="开始">开始<a href="#开始" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>首先是基本文件。
请先下载KAGeXpress。</p>
<p>这是完整的KAGeXpress包 <a href="https://pikaqiang.lanzouq.com/iABSU3d0fzli">https://pikaqiang.lanzouq.com/iABSU3d0fzli</a><br>
这是我修改过的KAGeXpress模板 <a href="https://pikaqiang.lanzouq.com/iwzcr3d0fkli">https://pikaqiang.lanzouq.com/iwzcr3d0fkli</a></p>
<h3 id="碎碎念">碎碎念<a href="#碎碎念" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>原本的KAGeXpress来自keyFC同人发展促进会，由KCDDP制作。
相关链接:<br>
keyFC：http://krkr.keyfc.net/ <br>
KCDDP：http://kcddp.keyfc.net/<br>
吉里吉里2：http://kikyou.info/</p>
<p><del>不过由于时间的磨损，这几个网站都访问不了了，我放在这里仅供纪念。</del>
<del>但你可以自行寻找互联网档案馆的存档镜像来查看当年的历史，这里不再赘述。</del>
<br>
其实都还在，只是换站了。</p>
<h2 id="文件结构">文件结构<a href="#文件结构" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>下载完KAGeXpress的模板后，建议把它放在一个容易找到的文件夹。如<code>/sdcard/games/</code>。</p>
<p>解压后你将看到像这样的文件结构：</p>
<pre tabindex="0"><code class="language-tr" data-lang="tr">YourKrKrProject/                /*你的项目名*/
├── Data
│   ├── startup.tjs
│   ├── Config.tjs
│   ├── bgimage/
│   ├── bgm/
│   ├── fgimage/
│   ├── image/
│   ├── others/
│   ├── rule/
│   ├── scenario/
│   ├── sound/
│   ├── system/
│   ├── video/
│   ├── voice/
│   └──*.dll
└── krkr.exe
</code></pre><p><code>krkr.exe</code>是吉里吉里的游戏开始入口，Windows电脑通过它启动游戏。</p>
<p><code>Data/</code>是游戏的本体，所有游戏内容都在这个文件夹内，打包后就是常见的data.xp3。</p>
<ul>
<li>其中<code>config.tjs</code>是游戏配置，包括游戏名称，默认窗口分辨率等东西（但是窗口分辨率不建议修改，因为修改窗口分辨率不会修改模板的组件分辨率，这样会导致严重的渲染bug）</li>
<li><code>bgm/</code>是存放背景音乐的目录。<code>voice/</code>是用来存放人物声音的目录。<code>sound/</code>是用来存放各种音效的目录。</li>
<li><code>fgimage/</code>是存放前景图片的目录，一般用于存放人物立绘。<code>bgimage/</code>是存放背景图片的目录。<code>rule/</code>是存放渐变图的目录，用于定义渐变效果。</li>
<li><code>video/</code>是用于存放视频文件的位置，一般用于存放OP和ED之类。<code>other/</code>存放一些未分类的东西。</li>
<li><code>*.dll</code>指<code>extNagano.dll     extrans.dll       krflash.dll       krmovie.dll       layerExImage.dll  wump3.dll         wumsadp.dll       wutcwf.dll        wuvorbis.dll</code>是一些插件，用于兼容一些格式和效果（我也不知道具体是什么）。</li>
<li><code>scenario/</code>用于存放剧本文件，我们的项目也就从这里开始。</li>
</ul>
<h2 id="mt管理器的使用">mt管理器的使用<a href="#mt管理器的使用" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>mt管理器下载地址：<a href="https://mt2.cn/">mt2.cn</a></p>
<p>mt管理器是我目前看来手机上最好的文件管理器了，
并且自带apk打包工具，支持自定义的语法高亮，用来做吉里吉里的编辑器真的再适合不过。</p>
<p>krkr的kag脚本语法高亮：<a href="../KAGScript.mtsx">点击下载</a></p>
<p>保存后在mt管理器内点击即可安装。</p>
<h2 id="firstks第一个脚本">first.ks第一个脚本<a href="#firstks第一个脚本" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>打开<code>data/scenario/first.ks</code>。这是KAGeXpress目标默认的入口文件，我们的游戏也就从这里开始写。</p>
<blockquote>
<h3>注意</h3>
mt管理器默认的编码格式是`UTF8`，但吉里吉里不支持这种编码，每次创建新文件需要手动修改为`GBK`。
<br>ks脚本的编码格式默认是`ShiftJIS`，但是其针对日文，对中文不友好，所以我们应将编码格式改为`GBK`或`GB18030`，它们兼容`shiftJIS`且对中文支持良好。</blockquote>
<p>ks脚本全称是<code>krkr/kag script</code>，即吉里吉里的脚本，它是一种标记式的剧情脚本，不是编程语言，所以理论上写ks脚本不需要任何编程基础。</p>
<p>这里先贴一段ks脚本的样例：</p>
<pre tabindex="0"><code class="language-ks" data-lang="ks">;定义游戏开始目录
*menu|伟大的目录
@menul
;kag默认是会一个字一个字地加载字符（模拟打字效果），但在[nowait]到[endnowait]的内容不会有这种效果
[nowait]
@startanchor ;标记这是游戏目录，之后回到主题画面时会回到这里
@clickskip enabled=false ;关闭点击跳过，（kag默认会一个字一个字地加载字符，但是在加载过程中点击可以打断，立即加载完这一条字符）
@font size=55 ;设置字体大小
@locate x=100 y=50 ;设置下一次文字显示显示的位置
;游戏名称就叫这个了
GalGAME的制作方法
@locate x=120 y=150
@font size=30
;link是链接，类似HTML网页中的链接
[link target=*start]开始教程[endlink]
@locate x=120 y=230
;exp指定的是一段tjs脚本，tjs不是基础教程该讲的内容，知道kag.close()函数会结束游戏关闭窗口就行
[link exp=&#34;kag.close()&#34;]结束游戏[endlink]
[endnowait]
@clickskip enabled=true ;重新打开点击跳过
@s ;停止，运行到这里停止游戏以等待玩家选择，不加这一句会直接执行下一行的内容
*start|第一章
@advl
「皮卡强」[r]嘿嘿嘿，我又来了！[p]
「皮卡强」[r]首先是让我修改一下背景[p]
@bg storage=white.png ;这个背景原本版KAGeXpress是没有的需要自己做一张对应分辨率的纯白色图片。
「皮卡强」[r]然后，试着加载一张立绘[p]
@fg storage=w.png pos=c time=250
「皮卡强」[r]来写小说[p]
@val
如你所见，[r]
这是小说的显示样式，[l][r]
可以换页。
[p]
就像这样。
[p]
来点选项[r]
@font size=55
[link target=*opt1]选项①[endlink][r]
[link target=*opt2]选项②[endlink]
[s]
*opt1
@advl
「壹」[r]这里是伟大的选项1![p]
@jump target=*bk
*opt2
@advl
「贰」[r]我是选项贰。[p]
@jump target=*bk
*bk
@advl
「皮卡强」[r]这真是太有趣了。
</code></pre>
      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Read other posts</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
    
    
      <a href="/posts/krkr/krkr%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9Cpt1.%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" class="button inline next">
         [<span class="button__text">Krkr游戏制作pt1.快速入门</span>] &gt;
      </a>
    
  </div>
</div>


  

  
    
<script src="https://giscus.app/client.js"
        data-repo="pikaqiang-up/pikaqiang-up.github.io"
        data-repo-id="R_kgDOQhQEDw"
        data-category="General"
        data-category-id="DIC_kwDOQhQED84CzTtf"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="transparent_dark"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>©2025 Powered by <a href="https://github.com/pikaqiang-up">pikaqiang-up</a></span>
    
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
